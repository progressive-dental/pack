
    !function() {
      // Web Font Loader
      WebFont.load({
        google: {
          families: ['Roboto:300,400,500,700,400i', 'Alfa Slab One']
        }
      })

    function initImages() {
      var imgDefer = document.getElementsByTagName('img');
      for (var i=0; i<imgDefer.length; i++) {
        if(imgDefer[i].getAttribute('data-src')) {
          imgDefer[i].setAttribute('src',imgDefer[i].getAttribute('data-src'));
        } 

        if(imgDefer[i].getAttribute('data-trigger-mh') == "true" ) {
          setTimeout(function() {
            $('[data-mh="captain"]').matchHeight();
          }, 250);
        }
      } 
    }
    window.onload = initImages;

    $('.js-scroll').on('click touch', function(e) {
      e.preventDefault();
      $('html, body').animate({
        scrollTop: $('.js-videos').offset().top - 70
      }, 'slow');
    });

    //$(window).enllax();
    AOS.init({
      disable: 'mobile'
    });
    $('.js-video-carousel').owlCarousel({
      loop: true,
      margin: 20,
      nav: true,
      responsive: {
        0: {
          items: 1
        },
        769: {
          items: 2
        },
        992 : {
          items: 3
        }
      }
    });

    $('.js-quote-carousel').owlCarousel({
      items: 1,
      loop: true,
      margin: 0,
      nav: false,
      autoplay: true,
      autoplayTimeout: 7000
    });

    // poster frame click event
    $(document).on('click','.js-card-poster',function(ev) {
      ev.preventDefault();
      var $poster = $(this);
      var $wrapper = $poster.closest('.js-card-object');
      videoPlay($wrapper);
    });

    // play the targeted video (and hide the poster frame)
    function videoPlay($wrapper) {
      var $iframe = $wrapper.find('.js-card-video');
      var src = $iframe.data('src');
      // hide poster
      $wrapper.addClass('card__object--active');
      // add iframe src in, starting the video
      $iframe.attr('src',src);
    }

    // stop the targeted/all videos (and re-instate the poster frames)
    function videoStop($wrapper) {
      // if we're stopping all videos on page
      if (!$wrapper) {
        var $wrapper = $('.js-card-object');
        var $iframe = $('.js-card-video');
      // if we're stopping a particular video
      } else {
        var $iframe = $wrapper.find('.js-card-video');
      }
      // reveal poster
      $wrapper.removeClass('card__object--active');
      // remove youtube link, stopping the video from playing in the background
      $iframe.attr('src','');
    }
    }();